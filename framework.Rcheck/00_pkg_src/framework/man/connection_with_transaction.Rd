% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transactions.R
\name{connection_with_transaction}
\alias{connection_with_transaction}
\title{Execute code with transaction if not already in one}
\usage{
connection_with_transaction(conn, code)
}
\arguments{
\item{conn}{Database connection}

\item{code}{Expression or code block to execute}
}
\value{
The result of the code expression
}
\description{
Similar to \code{db_transaction()}, but only starts a new transaction
if not already in one. Useful for functions that can be called both
standalone and within an existing transaction.
}
\keyword{internal}
